!function e(t,r,n){function o(i,u){if(!r[i]){if(!t[i]){var s="function"==typeof require&&require;if(!u&&s)return s(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[i]={exports:{}};t[i][0].call(l.exports,function(e){var r=t[i][1][e];return o(r?r:e)},l,l.exports,e,t,r,n)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t,r){function n(e,t){return m.isUndefined(t)?""+t:m.isNumber(t)&&!isFinite(t)?t.toString():m.isFunction(t)||m.isRegExp(t)?t.toString():t}function o(e,t){return m.isString(e)?e.length<t?e:e.slice(0,t):e}function a(e){return o(JSON.stringify(e.actual,n),128)+" "+e.operator+" "+o(JSON.stringify(e.expected,n),128)}function i(e,t,r,n,o){throw new h.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:o})}function u(e,t){e||i(e,!0,t,"==",h.ok)}function s(e,t){if(e===t)return!0;if(m.isBuffer(e)&&m.isBuffer(t)){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return m.isDate(e)&&m.isDate(t)?e.getTime()===t.getTime():m.isRegExp(e)&&m.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:m.isObject(e)||m.isObject(t)?l(e,t):e==t}function c(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function l(e,t){if(m.isNullOrUndefined(e)||m.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(m.isPrimitive(e)||m.isPrimitive(t))return e===t;var r=c(e),n=c(t);if(r&&!n||!r&&n)return!1;if(r)return e=y.call(e),t=y.call(t),s(e,t);var o,a,i=g(e),u=g(t);if(i.length!=u.length)return!1;for(i.sort(),u.sort(),a=i.length-1;a>=0;a--)if(i[a]!=u[a])return!1;for(a=i.length-1;a>=0;a--)if(o=i[a],!s(e[o],t[o]))return!1;return!0}function f(e,t){return e&&t?"[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t?!0:t.call({},e)===!0?!0:!1:!1}function p(e,t,r,n){var o;m.isString(r)&&(n=r,r=null);try{t()}catch(a){o=a}if(n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!o&&i(o,r,"Missing expected exception"+n),!e&&f(o,r)&&i(o,r,"Got unwanted exception"+n),e&&o&&r&&!f(o,r)||!e&&o)throw o}var m=e("util/"),y=Array.prototype.slice,d=Object.prototype.hasOwnProperty,h=t.exports=u;h.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=a(this),this.generatedMessage=!0);var t=e.stackStartFunction||i;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,o=t.name,u=n.indexOf("\n"+o);if(u>=0){var s=n.indexOf("\n",u+1);n=n.substring(s+1)}this.stack=n}}},m.inherits(h.AssertionError,Error),h.fail=i,h.ok=u,h.equal=function(e,t,r){e!=t&&i(e,t,r,"==",h.equal)},h.notEqual=function(e,t,r){e==t&&i(e,t,r,"!=",h.notEqual)},h.deepEqual=function(e,t,r){s(e,t)||i(e,t,r,"deepEqual",h.deepEqual)},h.notDeepEqual=function(e,t,r){s(e,t)&&i(e,t,r,"notDeepEqual",h.notDeepEqual)},h.strictEqual=function(e,t,r){e!==t&&i(e,t,r,"===",h.strictEqual)},h.notStrictEqual=function(e,t,r){e===t&&i(e,t,r,"!==",h.notStrictEqual)},h["throws"]=function(e,t,r){p.apply(this,[!0].concat(y.call(arguments)))},h.doesNotThrow=function(e,t){p.apply(this,[!1].concat(y.call(arguments)))},h.ifError=function(e){if(e)throw e};var g=Object.keys||function(e){var t=[];for(var r in e)d.call(e,r)&&t.push(r);return t}},{"util/":5}],2:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],3:[function(e,t,r){function n(){l=!1,u.length?c=u.concat(c):f=-1,c.length&&o()}function o(){if(!l){var e=setTimeout(n);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,clearTimeout(e)}}function a(e,t){this.fun=e,this.array=t}function i(){}var u,s=t.exports={},c=[],l=!1,f=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new a(e,t)),1!==c.length||l||setTimeout(o,0)},a.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=i,s.addListener=i,s.once=i,s.off=i,s.removeListener=i,s.removeAllListeners=i,s.emit=i,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],4:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],5:[function(e,t,r){(function(t,n){function o(e,t){var n={seen:[],stylize:i};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(t)?n.showHidden=t:t&&r._extend(n,t),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),s(n,e,n.depth)}function a(e,t){var r=o.styles[t];return r?"["+o.colors[r][0]+"m"+e+"["+o.colors[r][1]+"m":e}function i(e,t){return e}function u(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function s(e,t,n){if(e.customInspect&&t&&O(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(n,e);return S(o)||(o=s(e,o,n)),o}var a=c(e,t);if(a)return a;var i=Object.keys(t),d=u(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return l(t);if(0===i.length){if(O(t)){var h=t.name?": "+t.name:"";return e.stylize("[Function"+h+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(_(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return l(t)}var g="",b=!1,v=["{","}"];if(y(t)&&(b=!0,v=["[","]"]),O(t)){var w=t.name?": "+t.name:"";g=" [Function"+w+"]"}if(x(t)&&(g=" "+RegExp.prototype.toString.call(t)),_(t)&&(g=" "+Date.prototype.toUTCString.call(t)),E(t)&&(g=" "+l(t)),0===i.length&&(!b||0==t.length))return v[0]+g+v[1];if(0>n)return x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var M;return M=b?f(e,t,n,d,i):i.map(function(r){return p(e,t,n,d,r,b)}),e.seen.pop(),m(M,g,v)}function c(e,t){if(w(t))return e.stylize("undefined","undefined");if(S(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return b(t)?e.stylize(""+t,"number"):d(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,o){for(var a=[],i=0,u=t.length;u>i;++i)k(t,String(i))?a.push(p(e,t,r,n,String(i),!0)):a.push("");return o.forEach(function(o){o.match(/^\d+$/)||a.push(p(e,t,r,n,o,!0))}),a}function p(e,t,r,n,o,a){var i,u,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),k(n,o)||(i="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=h(r)?s(e,c.value,null):s(e,c.value,r-1),u.indexOf("\n")>-1&&(u=a?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),w(i)){if(a&&o.match(/^\d+$/))return u;i=JSON.stringify(""+o),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+u}function m(e,t,r){var n=0,o=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function y(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function h(e){return null===e}function g(e){return null==e}function b(e){return"number"==typeof e}function S(e){return"string"==typeof e}function v(e){return"symbol"==typeof e}function w(e){return void 0===e}function x(e){return M(e)&&"[object RegExp]"===T(e)}function M(e){return"object"==typeof e&&null!==e}function _(e){return M(e)&&"[object Date]"===T(e)}function E(e){return M(e)&&("[object Error]"===T(e)||e instanceof Error)}function O(e){return"function"==typeof e}function j(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function T(e){return Object.prototype.toString.call(e)}function F(e){return 10>e?"0"+e.toString(10):e.toString(10)}function A(){var e=new Date,t=[F(e.getHours()),F(e.getMinutes()),F(e.getSeconds())].join(":");return[e.getDate(),q[e.getMonth()],t].join(" ")}function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var z=/%[sdj%]/g;r.format=function(e){if(!S(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(o(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,a=n.length,i=String(e).replace(z,function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}}),u=n[r];a>r;u=n[++r])i+=h(u)||!M(u)?" "+u:" "+o(u);return i},r.deprecate=function(e,o){function a(){if(!i){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),i=!0}return e.apply(this,arguments)}if(w(n.process))return function(){return r.deprecate(e,o).apply(this,arguments)};if(t.noDeprecation===!0)return e;var i=!1;return a};var P,R={};r.debuglog=function(e){if(w(P)&&(P=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!R[e])if(new RegExp("\\b"+e+"\\b","i").test(P)){var n=t.pid;R[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else R[e]=function(){};return R[e]},r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=y,r.isBoolean=d,r.isNull=h,r.isNullOrUndefined=g,r.isNumber=b,r.isString=S,r.isSymbol=v,r.isUndefined=w,r.isRegExp=x,r.isObject=M,r.isDate=_,r.isError=E,r.isFunction=O,r.isPrimitive=j,r.isBuffer=e("./support/isBuffer");var q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",A(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!M(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":4,_process:3,inherits:2}],6:[function(e,t,r){"use strict";!function(e,t){function r(e){return e.forEach||(e.forEach=function(e){var t,r=this.length;for(t=0;r>t;t++)e(this[t],t,r)}),e}var n,o,a=Float32Array,i=Math.sqrt,u=function(e){return Math.pow(e,2)};e.isComplexArray=n=function(e){return e!==t&&e.hasOwnProperty!==t&&e.hasOwnProperty("real")&&e.hasOwnProperty("imag")},e.ComplexArray=o=function(e,t){n(e)?(this.ArrayType=e.ArrayType,this.real=new this.ArrayType(e.real),this.imag=new this.ArrayType(e.imag)):(this.ArrayType=t||a,this.real=new this.ArrayType(e),this.imag=new this.ArrayType(this.real.length)),this.length=this.real.length},o.prototype.toString=function(){var e=[];return this.forEach(function(t,r){e.push("("+t.real.toFixed(2)+","+t.imag.toFixed(2)+")")}),"["+e.join(",")+"]"},o.prototype.map=function(e){var t,r=this.length,n={};for(t=0;r>t;t++)n.real=this.real[t],n.imag=this.imag[t],e(n,t,r),this.real[t]=n.real,this.imag[t]=n.imag;return this},o.prototype.forEach=function(e){var t,r=this.length,n={};for(t=0;r>t;t++)n.real=this.real[t],n.imag=this.imag[t],e(n,t,r)},o.prototype.conjugate=function(){return new o(this).map(function(e){e.imag*=-1})},o.prototype.magnitude=function(){var e=new this.ArrayType(this.length);return this.forEach(function(t,r){e[r]=i(u(t.real)+u(t.imag))}),r(e)}}("undefined"==typeof r&&(this.complex_array={})||r)},{}],7:[function(e,t,r){"use strict";!function(e,t){function r(e){return t.isComplexArray(e)&&e||new c(e)}function n(e,t){var r=e.length;return r&r-1?o(e,t):a(e,t)}function o(e,t){var r,o,a,i,u,f,d,h,g,b,S,v,w,x,M=e.length;if(1===M)return e;for(a=new c(M,e.ArrayType),h=s(M),g=M/h,b=1/p(h),S=new c(g,e.ArrayType),o=0;h>o;o++){for(r=0;g>r;r++)S.real[r]=e.real[r*h+o],S.imag[r]=e.imag[r*h+o];for(g>1&&(S=n(S,t)),f=m(2*l*o/M),d=(t?-1:1)*y(2*l*o/M),i=1,u=0,r=0;M>r;r++)w=S.real[r%g],x=S.imag[r%g],a.real[r]+=i*w-u*x,a.imag[r]+=i*x+u*w,v=i*f-u*d,u=i*d+u*f,i=v}for(r=0;M>r;r++)e.real[r]=b*a.real[r],e.imag[r]=b*a.imag[r];return e}function a(e,t){var r,n,o,a,i,s,c,p,d,h,g,b,S,v,w,x,M,_=e.length;for(o=u(e),a=o.real,i=o.imag,M=1;_>M;){for(p=m(l/M),d=(t?-1:1)*y(l/M),r=0;_/(2*M)>r;r++)for(s=1,c=0,n=0;M>n;n++)g=2*r*M+n,b=g+M,S=a[g],v=i[g],w=s*a[b]-c*i[b],x=c*a[b]+s*i[b],a[g]=f*(S+w),i[g]=f*(v+x),a[b]=f*(S-w),i[b]=f*(v-x),h=s*p-c*d,c=s*d+c*p,s=h;M<<=1}return o}function i(e,t){for(var r=0;t>1;)r<<=1,r+=1&e,e>>=1,t>>=1;return r}function u(e){var t,r,n=e.length,o={};for(r=0;n>r;r++){var a=i(r,n);o.hasOwnProperty(r)||o.hasOwnProperty(a)||(t=e.real[a],e.real[a]=e.real[r],e.real[r]=t,t=e.imag[a],e.imag[a]=e.imag[r],e.imag[r]=t,o[r]=o[a]=!0)}return e}function s(e){for(var t=3,r=p(e);r>=t;){if(e%t===0)return t;t+=2}return e}var c=t.ComplexArray,l=Math.PI,f=Math.SQRT1_2,p=Math.sqrt,m=Math.cos,y=Math.sin;c.prototype.FFT=function(){return n(this,!1)},e.FFT=function(e){return r(e).FFT()},c.prototype.InvFFT=function(){return n(this,!0)},e.InvFFT=function(e){return r(e).InvFFT()},c.prototype.frequencyMap=function(e){return this.FFT().map(e).InvFFT()},e.frequencyMap=function(e,t){return r(e).frequencyMap(t)}}("undefined"==typeof r&&(this.fft={})||r,"undefined"==typeof e&&this.complex_array||e("./complex_array"))},{"./complex_array":6}],8:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(){if("object"!==o(arguments[0].signal))throw new TypeError;for(var e=0,t=0;t<arguments[0].signal.length;t++)e+=Math.pow(Math.abs(arguments[0].signal[t]),2);return e};var a=e("assert");n(a);t.exports=r["default"]},{assert:1}],9:[function(e,t,r){"use strict";function n(e,t){for(var r=0,n=0,o=0;o<t.length;o++)r+=Math.pow(o,e)*Math.abs(t[o]),n+=t[o];return r/n}Object.defineProperty(r,"__esModule",{value:!0}),r.mu=n},{}],10:[function(e,t,r){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(e){if("object"!==n(e.ampSpectrum)||"object"!==n(e.barkScale))throw new TypeError;var t=24,r=new Float32Array(t),o=0,a=e.ampSpectrum,i=new Int32Array(t+1);i[0]=0;for(var u=e.barkScale[a.length-1]/t,s=1,c=0;c<a.length;c++)for(;e.barkScale[c]>u;)i[s++]=c,u=s*e.barkScale[a.length-1]/t;i[t]=a.length-1;for(var c=0;t>c;c++){for(var l=0,f=i[c];f<i[c+1];f++)l+=a[f];r[c]=Math.pow(l,.23)}for(var c=0;c<r.length;c++)o+=r[c];return{specific:r,total:o}},t.exports=r["default"]},{}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(e){if("object"!==o(e.ampSpectrum)||"object"!==o(e.melFilterBank))throw new TypeError;for(var t=(0,i["default"])(e),r=e.melFilterBank.length,n=Array(r),a=new Float32Array(r),u=0;u<a.length;u++){n[u]=new Float32Array(e.bufferSize/2),a[u]=0;for(var s=0;s<e.bufferSize/2;s++)n[u][s]=e.melFilterBank[u][s]*t[s],a[u]+=n[u][s];a[u]=Math.log(a[u])}for(var c=Math.PI/r,l=1/Math.sqrt(r),f=Math.sqrt(2/r),p=r,m=new Float32Array(p*r),u=0;p>u;u++)for(var s=0;r>s;s++){var y=u+s*p;0===u?m[y]=l*Math.cos(c*(u+1)*(s+.5)):m[y]=f*Math.cos(c*(u+1)*(s+.5))}for(var d=new Float32Array(p),h=0;p>h;h++){for(var g=0,b=0;r>b;b++){var y=h+b*p;g+=m[y]*a[b]}d[h]=g/p}return d};var a=e("./powerSpectrum"),i=n(a),u=e("./../utilities");n(u);t.exports=r["default"]},{"./../utilities":27,"./powerSpectrum":14}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(){if("object"!==o(arguments[0].signal))throw new TypeError;for(var e=(0,i["default"])(arguments[0]),t=e.specific,r=0,n=0;n<t.length;n++)r+=15>n?(n+1)*t[n+1]:.066*Math.exp(.171*(n+1));return r*=.11/e.total};var a=e("./loudness"),i=n(a);t.exports=r["default"]},{"./loudness":10}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(){if("object"!==o(arguments[0].signal))throw new TypeError;for(var e=(0,i["default"])(arguments[0]),t=0,r=0;r<e.specific.length;r++)e.specific[r]>t&&(t=e.specific[r]);var n=Math.pow((e.total-t)/e.total,2);return n};var a=e("./loudness"),i=n(a);t.exports=r["default"]},{"./loudness":10}],14:[function(e,t,r){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(){if("object"!==n(arguments[0].ampSpectrum))throw new TypeError;for(var e=new Float32Array(arguments[0].ampSpectrum.length),t=0;t<e.length;t++)e[t]=Math.pow(arguments[0].ampSpectrum[t],2);return e},t.exports=r["default"]},{}],15:[function(e,t,r){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(e){if("object"!==n(e.signal))throw new TypeError;for(var t=0,r=0;r<e.signal.length;r++)t+=Math.pow(e.signal[r],2);return t/=e.signal.length,t=Math.sqrt(t)},t.exports=r["default"]},{}],16:[function(e,t,r){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(){if("object"!==n(arguments[0].ampSpectrum))throw new TypeError;return(0,o.mu)(1,arguments[0].ampSpectrum)};var o=e("./extractorUtilities");t.exports=r["default"]},{"./extractorUtilities":9}],17:[function(e,t,r){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(){if("object"!==n(arguments[0].ampSpectrum))throw new TypeError;for(var e=0,t=0,r=0;r<arguments[0].ampSpectrum.length;r++)e+=Math.log(arguments[0].ampSpectrum[r]),t+=arguments[0].ampSpectrum[r];return Math.exp(e/arguments[0].ampSpectrum.length)*arguments[0].ampSpectrum.length/t},t.exports=r["default"]},{}],18:[function(e,t,r){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(){if("object"!==n(arguments[0].ampSpectrum))throw new TypeError;var e=arguments[0].ampSpectrum,t=(0,o.mu)(1,e),r=(0,o.mu)(2,e),a=(0,o.mu)(3,e),i=(0,o.mu)(4,e),u=-3*Math.pow(t,4)+6*t*r-4*t*a+i,s=Math.pow(Math.sqrt(r-Math.pow(t,2)),4);return u/s};var o=e("./extractorUtilities");t.exports=r["default"]},{"./extractorUtilities":9}],19:[function(e,t,r){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(){if("object"!==n(arguments[0].ampSpectrum))throw new TypeError;for(var e=arguments[0].ampSpectrum,t=arguments[0].sampleRate/(2*(e.length-1)),r=0,o=0;o<e.length;o++)r+=e[o];for(var a=.99*r,i=e.length-1;r>a&&i>=0;)r-=e[i],--i;return(i+1)*t},t.exports=r["default"]},{}],20:[function(e,t,r){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(e){if("object"!==n(e.ampSpectrum))throw new TypeError;var t=(0,o.mu)(1,e.ampSpectrum),r=(0,o.mu)(2,e.ampSpectrum),a=(0,o.mu)(3,e.ampSpectrum),i=2*Math.pow(t,3)-3*t*r+a,u=Math.pow(Math.sqrt(r-Math.pow(t,2)),3);return i/u};var o=e("./extractorUtilities");t.exports=r["default"]},{"./extractorUtilities":9}],21:[function(e,t,r){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(e){if("object"!==n(e.ampSpectrum))throw new TypeError;for(var t=0,r=0,o=new Float32Array(e.ampSpectrum.length),a=0,i=0,u=0;u<e.ampSpectrum.length;u++){t+=e.ampSpectrum[u];var s=u*e.sampleRate/e.bufferSize;o[u]=s,a+=s*s,r+=s,i+=s*e.ampSpectrum[u]}return(e.ampSpectrum.length*i-r*t)/(t*(a-Math.pow(r,2)))},t.exports=r["default"]},{}],22:[function(e,t,r){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(e){if("object"!==n(e.ampSpectrum))throw new TypeError;return Math.sqrt((0,o.mu)(2,e.ampSpectrum)-Math.pow((0,o.mu)(1,e.ampSpectrum),2))};var o=e("./extractorUtilities");t.exports=r["default"]},{"./extractorUtilities":9}],23:[function(e,t,r){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=function(){if("object"!==n(arguments[0].signal))throw new TypeError;for(var e=0,t=0;t<arguments[0].signal.length;t++)(arguments[0].signal[t]>=0&&arguments[0].signal[t+1]<0||arguments[0].signal[t]<0&&arguments[0].signal[t+1]>=0)&&e++;return e},t.exports=r["default"]},{}],24:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var o=e("./extractors/rms"),a=n(o),i=e("./extractors/energy"),u=n(i),s=e("./extractors/spectralSlope"),c=n(s),l=e("./extractors/spectralCentroid"),f=n(l),p=e("./extractors/spectralRolloff"),m=n(p),y=e("./extractors/spectralFlatness"),d=n(y),h=e("./extractors/spectralSpread"),g=n(h),b=e("./extractors/spectralSkewness"),S=n(b),v=e("./extractors/spectralKurtosis"),w=n(v),x=e("./extractors/zcr"),M=n(x),_=e("./extractors/loudness"),E=n(_),O=e("./extractors/perceptualSpread"),j=n(O),T=e("./extractors/perceptualSharpness"),F=n(T),A=e("./extractors/mfcc"),k=n(A),z=e("./extractors/powerSpectrum"),P=n(z);r["default"]={buffer:function(e){return e.signal},rms:a["default"],energy:u["default"],complexSpectrum:function(e){return e.complexSpectrum},spectralSlope:c["default"],spectralCentroid:f["default"],spectralRolloff:m["default"],spectralFlatness:d["default"],spectralSpread:g["default"],spectralSkewness:S["default"],spectralKurtosis:w["default"],amplitudeSpectrum:function(e){return e.ampSpectrum},zcr:M["default"],loudness:E["default"],perceptualSpread:j["default"],perceptualSharpness:F["default"],powerSpectrum:P["default"],mfcc:k["default"]},t.exports=r["default"]},{"./extractors/energy":8,"./extractors/loudness":10,"./extractors/mfcc":11,"./extractors/perceptualSharpness":12,"./extractors/perceptualSpread":13,"./extractors/powerSpectrum":14,"./extractors/rms":15,"./extractors/spectralCentroid":16,"./extractors/spectralFlatness":17,"./extractors/spectralKurtosis":18,"./extractors/spectralRolloff":19,"./extractors/spectralSkewness":20,"./extractors/spectralSlope":21,"./extractors/spectralSpread":22,"./extractors/zcr":23}],25:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(r,"__esModule",{value:!0});var a=e("./utilities"),i=n(a),u=e("./featureExtractors"),s=n(u),c=e("jsfft"),l=(n(c),e("jsfft/lib/complex_array")),f=n(l),p=e("./meyda-wa"),m=n(p),y={audioContext:null,spn:null,bufferSize:512,sampleRate:44100,melBands:26,callback:null,windowingFunction:"hanning",featureExtractors:s,EXTRACTION_STARTED:!1,_featuresToExtract:[],_errors:{notPow2:new Error("Meyda: Input data length/buffer size needs to be a power of 2, e.g. 64 or 512"),featureUndef:new Error("Meyda: No features defined."),invalidFeatureFmt:new Error("Meyda: Invalid feature format"),invalidInput:new Error("Meyda: Invalid input."),noAC:new Error("Meyda: No AudioContext specified."),noSource:new Error("Meyda: No source node specified.")},createMeydaAnalyzer:function(e){return new m(e,this)},extract:function(e,t){if(!t)throw this._errors.invalidInput;if("object"!=("undefined"==typeof t?"undefined":o(t)))throw this._errors.invalidInput;if(!e)throw this._errors.featureUndef;if(!i.isPowerOfTwo(t.length))throw this._errors.notPow2;("undefined"==typeof this.barkScale||this.barkScale.length!=this.bufferSize)&&(this.barkScale=i.createBarkScale(this.bufferSize,this.sampleRate,this.bufferSize)),("undefined"==typeof this.melFilterBank||this.barkScale.length!=this.bufferSize||this.melFilterBank.length!=this.melBands)&&(this.melFilterBank=i.createMelFilterBank(this.melBands,this.sampleRate,this.bufferSize)),"undefined"==typeof t.buffer?this.signal=i.arrayToTyped(t):this.signal=t;var r=i.applyWindow(this.signal,this.windowingFunction),n=new f.ComplexArray(this.bufferSize);n.map(function(e,t,n){e.real=r[t]});var a=n.FFT();this.complexSpectrum=a,this.ampSpectrum=new Float32Array(this.bufferSize/2);for(var u=0;u<this.bufferSize/2;u++)this.ampSpectrum[u]=Math.sqrt(Math.pow(a.real[u],2)+Math.pow(a.imag[u],2));if("object"===("undefined"==typeof e?"undefined":o(e))){for(var s={},c=0;c<e.length;c++)s[e[c]]=this.featureExtractors[e[c]]({ampSpectrum:this.ampSpectrum,complexSpectrum:this.complexSpectrum,signal:this.signal,bufferSize:this.bufferSize,sampleRate:this.sampleRate,barkScale:this.barkScale,melFilterBank:this.melFilterBank});return s}if("string"==typeof e)return this.featureExtractors[e]({ampSpectrum:this.ampSpectrum,complexSpectrum:this.complexSpectrum,signal:this.signal,bufferSize:this.bufferSize,sampleRate:this.sampleRate,barkScale:this.barkScale,melFilterBank:this.melFilterBank});throw this._errors.invalidFeatureFmt}};r["default"]=y,"undefined"!=typeof window&&(window.Meyda=y),t.exports=r["default"]},{"./featureExtractors":24,"./meyda-wa":26,"./utilities":27,jsfft:7,"jsfft/lib/complex_array":6}],26:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(r,"__esModule",{value:!0});var i=e("./utilities"),u=n(i),s=e("./featureExtractors"),c=n(s),l=function(){function e(t,r){if(o(this,e),!t.audioContext)throw r._errors.noAC;if(t.bufferSize&&!u.isPowerOfTwo(t.bufferSize))throw r._errors.notPow2;if(!t.source)throw r._errors.noSource;r.audioContext=t.audioContext,r.setSource(t.source),r.bufferSize=t.bufferSize||r.bufferSize||256,r.sampleRate=t.sampleRate||r.audioContext.sampleRate||44100,r.callback=t.callback,r.windowingFunction=t.windowingFunction||"hanning",r.featureExtractors=c,r.EXTRACTION_STARTED=t.startImmediately||!1,r.spn=r.audioContext.createScriptProcessor(r.bufferSize,1,1),r.spn.connect(r.audioContext.destination),r._featuresToExtract=t.featureExtractors||[],r.barkScale=u.createBarkScale(r.bufferSize,r.sampleRate,r.bufferSize),r.melFilterBank=u.createMelFilterBank(r.melBands,r.sampleRate,r.bufferSize),r.spn.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0),n=r.extract(r._featuresToExtract,t);"function"==typeof r.callback&&r.EXTRACTION_STARTED&&r.callback(n)}}return a(e,[{key:"start",value:function(e){self._featuresToExtract=e,self.EXTRACTION_STARTED=!0}},{key:"stop",value:function(){self.EXTRACTION_STARTED=!1}},{key:"setSource",value:function(e){e.connect(this.spn)}}]),e}();r["default"]=l,t.exports=r["default"]},{"./featureExtractors":24,"./utilities":27}],27:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){for(;e%2===0&&e>1;)e/=2;return 1===e}function a(e){throw new Error("Meyda: "+e)}function i(e,t){for(var r=[],n=0;n<Math.min(e.length,t.length);n++)r[n]=e[n]*t[n];return r}function u(e,t){return x[t]||(x[t]={}),x[t][e.length]||(x[t][e.length]=w.hanning(e.length)),i(e,x[t][e.length])}function s(e,t,r){for(var n=new Float32Array(e),o=0;o<n.length;o++)n[o]=o*t/r,n[o]=13*Math.atan(n[o]/1315.8)+3.5*Math.atan(Math.pow(n[o]/7518,2));return n}function c(e){return Array.prototype.slice.call(e)}function l(e){return Float32Array.from(e)}function f(e,t){return e/t}function p(e,t){return e.map(function(e){return e/t})}function m(e){var t=0;return e.forEach(function(e,r,n){e>t&&(t=e)}),e.map(function(e){return e/t})}function y(e){return e.reduce(function(e,t){return e+t})/e.length}function d(e){var t=700*(Math.exp(e/1125)-1);return t}function h(e){var t=1125*Math.log(1+e/700);return t}function g(e){return d(e)}function b(e){return h(e)}function S(e,t,r){for(var n=new Float32Array(e+2),o=new Float32Array(e+2),a=0,i=t/2,u=h(a),s=h(i),c=s-u,l=c/(e+1),f=Array(e+2),p=0;p<n.length;p++)n[p]=p*l,o[p]=d(n[p]),f[p]=Math.floor((r+1)*o[p]/t);for(var m=Array(e),y=0;y<m.length;y++){m[y]=Array.apply(null,new Array(r/2+1)).map(Number.prototype.valueOf,0);for(var p=f[y];p<f[y+1];p++)m[y][p]=(p-f[y])/(f[y+1]-f[y]);for(var p=f[y+1];p<f[y+2];p++)m[y][p]=(f[y+2]-p)/(f[y+2]-f[y+1])}return m}Object.defineProperty(r,"__esModule",{value:!0}),r.isPowerOfTwo=o,r.error=a,r.pointwiseBufferMult=i,r.applyWindow=u,r.createBarkScale=s,r.typedToArray=c,r.arrayToTyped=l,r.normalize=f,r.normalize_a=p,r.normalize_a_to_1=m,r.mean=y,r.melToFreq=g,r.freqToMel=b,r.createMelFilterBank=S;var v=e("./windowing"),w=n(v),x={}},{"./windowing":28}],28:[function(e,t,r){"use strict";function n(e){for(var t=Math.PI/(e-1),r=new Float32Array(e),n=0;e>n;n++)r[n]=Math.sin(t*n);return r}function o(e,t){}function a(e){for(var t=new Float32Array(e),r=0;e>r;r++)t[r]=.5-.5*Math.cos(2*Math.PI*r/(e-1));return t}function i(e){for(var t=new Float32Array(e),r=0;e>r;r++)t[r]=.54-.46*Math.cos(2*Math.PI*(r/e-1));return t}Object.defineProperty(r,"__esModule",{value:!0}),r.sine=n,r.gaussian=o,r.hanning=a,r.hamming=i},{}]},{},[25]);